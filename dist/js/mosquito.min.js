/*! mosquitojs - v0.1.1 - 2016-03-21
* Copyright (c) 2016 Jeff Brannon; Licensed MIT */
"use strict";window.mosquito=new function(){function a(a){function b(a){for(var b=0;b<i.length;b++){var c=i[b].service(a);if(void 0!==c)return void 0===c.instance&&(c.serviceType===e.service?c.instance=f(c.constructor,c.dependentServices):c.instance=d(c.constructor,c.dependentServices)),c.instance}throw"Service undefined: "+a}function c(a){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c}function d(a,b){var d=c(b);return a.apply(this,d)}function f(a,b){return new d(a,b)}function g(a,b,c,d,e){if(d){if(void 0!==k[b]&&!e)throw"Service already defined: "+b;return k[b]={serviceType:a,dependentServices:c,constructor:d}}return k[b]}function h(a){var b={dependentServices:[],constructor:a};return a instanceof Array&&(b.constructor=a.pop(),b.dependentServices=a),b}a.push(this);var i=a,j=[],k=[];this.controller=function(a,b){if(!b){if(void 0===j[a])throw"Controller undefined: "+a;return void 0===j[a].instance&&(j[a].instance=f(j[a].constructor,j[a].dependentServices)),j[a].instance}if(void 0!==j[a])throw"Controller already defined: "+a;j[a]=h(b)},this.service=function(a,b){var c=h(b);return g(e.service,a,c.dependentServices,c.constructor)},this.factory=function(a,b){var c=h(b);return g(e.factory,a,c.dependentServices,c.constructor)},this.provider=function(a,b){var c=g(e.provider,a,[],b),d=f(c.constructor,c.dependentServices),i=h(d.$get);return g(e.provider,a,i.dependentServices,i.constructor,!0)}}function b(a){if(void 0===d[a])throw"Module undefined: "+a;return d[a]}function c(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(b(e))}return c}var d=[],e={service:1,factory:2,provider:3};this.module=function(e,f){if(!f)return b(e);if(void 0!==d[e])throw"Module already defined: "+e;try{d[e]=new a(c(f))}catch(g){throw"Error defining module: "+e+" - "+g}}};
